package {	//Importing Stuffs	import flash.events.Event;	import flash.events.KeyboardEvent;	import flash.events.MouseEvent;	import flash.display.MovieClip;	import fl.motion.MotionEvent;	import flash.geom.Point;	public class Game extends MovieClip	{		//Input Manager		static var inputManager:InputManager = new InputManager();		//GameLevel		static var gameContainer:GameLevel;		//SoundManager		static var sound:SoundManager = new SoundManager();				var gui:GUI = new GUI();		public function Game()		{			// constructor code			//Event Listeners			stage.addEventListener(KeyboardEvent.KEY_DOWN,keyDownHandler);			stage.addEventListener(KeyboardEvent.KEY_UP,keyUpHandler);			stage.addEventListener(MouseEvent.CLICK,onMouseClick);			startMusic();			stage.addEventListener(Event.ENTER_FRAME, onTick);		}//end method		function onTick(event:Event)		{			if (inputManager.justCmdPressed(InputManager.JUMP))			{				init();				stage.removeEventListener(Event.ENTER_FRAME, onTick);			}		}				function init()		{			gotoAndStop(2);			gameContainer = new GameLevel();			addChild(gameContainer);						gui.x = 0;			gui.y = 0;			addChild(gui);		}		function startMusic()		{			sound.playSound(SoundManager.BACKGROUND_MUSIC, SoundManager.MUSIC, true);			//sound.playSound(SoundManager.ENV_AMB_NIGHT, SoundManager.AMBIENCE, true);		}		function onMouseClick(e:MouseEvent)		{			inputManager.setMouse(new Point(mouseX ,mouseY));		}		//Keyboard Handler Functions		//Detect if certain key is being press		function keyDownHandler(e:KeyboardEvent):void		{			//DIRECTIONAL			if (e.keyCode == 65 || e.keyCode == 37)			{				inputManager.set(InputManager.LEFT,true);			}			if (e.keyCode == 68 || e.keyCode == 39)			{				inputManager.set(InputManager.RIGHT,true);			}			if (e.keyCode == 87 || e.keyCode == 38)			{				inputManager.set(InputManager.UP,true);			}			if (e.keyCode == 83 || e.keyCode == 40)			{				inputManager.set(InputManager.DOWN,true);			}			//SPACEBAR;			if (e.keyCode == 32)			{				inputManager.set(InputManager.JUMP,true);			}			//E Key to interact;			if (e.keyCode == 69)			{				inputManager.set(InputManager.INTERACT,true);			}			//Escape Key;			if (e.keyCode == 27)			{				inputManager.set(InputManager.PAUSE,true);			}			//K key to kill her			if (e.keyCode == 75)			{				inputManager.set(InputManager.INSTANTDEATH,true);			}		}		//Detect if certain key is being release		function keyUpHandler(e:KeyboardEvent):void		{			//DIRECTIONAL			if (e.keyCode == 65 || e.keyCode == 37)			{				inputManager.set(InputManager.LEFT,false);			}			if (e.keyCode == 68 || e.keyCode == 39)			{				inputManager.set(InputManager.RIGHT,false);			}			if (e.keyCode == 87 || e.keyCode == 38)			{				inputManager.set(InputManager.UP,false);			}			if (e.keyCode == 83 || e.keyCode == 40)			{				inputManager.set(InputManager.DOWN,false);			}			//SPACEBAR;			if (e.keyCode == 32)			{				inputManager.set(InputManager.JUMP,false);			}			//E Key to interact;			if (e.keyCode == 69)			{				inputManager.set(InputManager.INTERACT,false);			}			//Escape Key;			if (e.keyCode == 27)			{				inputManager.set(InputManager.PAUSE,false);			}			//K key to kill her			if (e.keyCode == 75)			{				inputManager.set(InputManager.INSTANTDEATH,false);			}		}//end function	}}